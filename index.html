<!DOCTYPE html>
<html lang="bn" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>সীরাতুল মুস্তাকিম: পূর্ণাঙ্গ জীবনী</title>
    
    <!-- ফন্ট এবং আইকন -->
    <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&family=Hind+Siliguri:wght@300;400;500;600;700&family=Noto+Serif+Bengali:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        paper: '#fdfbf7',
                        brand: {
                            base: '#047857', dark: '#064e3b', gold: '#d97706',
                            makkan: '#b45309', madinan: '#059669', battle: '#be123c',
                            family: '#7e22ce', character: '#0ea5e9', state: '#1e40af'
                        }
                    },
                    fontFamily: {
                        sans: ['"Hind Siliguri"', 'sans-serif'],
                        serif: ['"Noto Serif Bengali"', 'serif'],
                        arabic: ['"Amiri"', 'serif'],
                    },
                    backgroundImage: {
                        'pattern': "url('https://www.transparenttextures.com/patterns/arabesque.png')",
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-8px)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #f8fafc; color: #334155; overflow-x: hidden; }

        /* --- SNAKE TIMELINE (DESKTOP) --- */
        /* মূল ভার্টিকাল লাইন */
        .snake-spine {
            position: absolute; top: 0; bottom: 0; width: 4px; background: #e2e8f0; left: 50%; transform: translateX(-50%); z-index: 0;
            display: none;
        }
        
        /* কানেক্টর কার্ভ (Snake Curve) */
        .snake-curve {
            position: absolute; top: 50%; height: 2px; background: #cbd5e1; z-index: -1; width: 50px;
            display: none;
        }

        @media (min-width: 768px) {
            .snake-spine { display: block; }
            .snake-curve { display: block; }
            
            /* বাম দিকের কার্ডের জন্য কার্ভ */
            .left-card .snake-curve {
                right: -66px; /* সেন্টারের দিকে */
                width: 66px;
                background: linear-gradient(to right, #cbd5e1, #d97706);
            }
            
            /* ডান দিকের কার্ডের জন্য কার্ভ */
            .right-card .snake-curve {
                left: -66px;
                width: 66px;
                background: linear-gradient(to left, #cbd5e1, #d97706);
            }
        }

        /* --- MOBILE TIMELINE --- */
        .mobile-line {
            position: absolute; top: 0; bottom: 0; left: 24px; width: 4px; background: linear-gradient(to bottom, #d97706, #047857); z-index: 0;
        }
        @media (min-width: 768px) { .mobile-line { display: none; } }

        /* কার্ড হোভার ইফেক্ট */
        .timeline-card { transition: all 0.3s ease; background: #ffffff; border: 1px solid #f1f5f9; cursor: pointer; position: relative; z-index: 10; }
        .timeline-card:hover { transform: translateY(-5px); box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.1); border-color: #d97706; }
        
        /* মোডাল এনিমেশন */
        .modal-overlay { opacity: 0; visibility: hidden; transition: all 0.3s ease; }
        .modal-overlay.open { opacity: 1; visibility: visible; }
        .modal-panel { transform: scale(0.95) translateY(10px); opacity: 0; transition: all 0.3s ease-out; }
        .modal-overlay.open .modal-panel { transform: scale(1) translateY(0); opacity: 1; }

        /* ট্যাব বাটন */
        .tab-btn { position: relative; color: #64748b; transition: all 0.3s; }
        .tab-btn::after { content: ''; position: absolute; bottom: 0; left: 0; width: 0%; height: 3px; background: #047857; transition: width 0.3s; }
        .tab-btn.active { color: #047857; font-weight: bold; }
        .tab-btn.active::after { width: 100%; }
        
        .tab-content { display: none; animation: fadeIn 0.3s ease; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        .info-table { width: 100%; border-collapse: collapse; border: 1px solid #e2e8f0; border-radius: 6px; overflow: hidden; font-size: 0.9rem; }
        .info-table th { background: #f8fafc; padding: 10px; text-align: left; border-bottom: 1px solid #e2e8f0; color: #475569; width: 40%; font-weight: 600; }
        .info-table td { padding: 10px; border-bottom: 1px solid #f1f5f9; color: #1e293b; }
        
        .drop-cap::first-letter { font-size: 3rem; float: left; margin-right: 0.5rem; margin-top: -0.3rem; font-family: 'Amiri', serif; color: #d97706; line-height: 1; }
        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: #f1f5f9; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
    </style>
</head>
<body class="bg-slate-50 font-sans antialiased">

    <!-- লোডিং স্ক্রিন -->
    <div id="loader" class="fixed inset-0 z-[100] bg-white flex flex-col items-center justify-center transition-opacity duration-500">
        <div class="animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-brand-gold mb-4"></div>
        <p class="text-brand-dark font-serif animate-pulse">তথ্য লোড হচ্ছে...</p>
    </div>

    <!-- ব্যাকগ্রাউন্ড লাইন -->
    <div class="mobile-line"></div>
    <div class="fixed inset-0 z-0 pointer-events-none hidden md:block">
        <div class="snake-spine"></div> 
    </div>

    <!-- নেভিগেশন বার -->
    <nav class="fixed top-0 w-full z-50 bg-white/95 backdrop-blur-md border-b border-gray-200 shadow-sm">
        <div class="container mx-auto px-4 py-3">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="flex items-center gap-3 cursor-pointer" onclick="window.scrollTo(0,0)">
                    <div class="w-9 h-9 bg-brand-base rounded-full flex items-center justify-center text-white font-bold text-lg shadow-md"><i class="fas fa-kaaba"></i></div>
                    <div>
                        <h1 class="text-lg font-serif font-bold text-brand-dark tracking-wide">সীরাতুল মুস্তাকিম</h1>
                        <span class="text-[9px] text-brand-gold uppercase tracking-[0.2em] font-bold">পূর্ণাঙ্গ এনসাইক্লোপিডিয়া</span>
                    </div>
                </div>
                <div class="flex flex-1 max-w-lg gap-2 w-full">
                    <input type="text" id="search-input" placeholder="ঘটনা খুঁজুন..." class="w-full bg-gray-50 text-gray-700 text-sm rounded-full pl-10 pr-4 py-2 border border-gray-200 focus:outline-none focus:border-brand-base transition">
                    <select id="filter-select" onchange="filterTimeline()" class="bg-gray-50 text-gray-700 text-sm rounded-full px-4 py-2 border border-gray-200 focus:outline-none cursor-pointer">
                        <option value="all">সব ঘটনা</option>
                        <option value="makkan">মক্কী জীবন</option>
                        <option value="madinan">মাদানী জীবন</option>
                        <option value="family">উম্মাহাতুল মুমিনিন</option>
                        <option value="battle">যুদ্ধ/গাজওয়া</option>
                        <option value="state">রাষ্ট্র ও নীতি</option>
                        <option value="character">চরিত্র ও শামায়েল</option>
                    </select>
                </div>
            </div>
        </div>
    </nav>

    <!-- হেডার -->
    <header class="relative pt-24 pb-16 px-4 text-center z-10 bg-gradient-to-b from-orange-50 to-transparent">
        <div class="absolute inset-0 opacity-5 bg-pattern pointer-events-none"></div>
        <div class="animate-float mb-4 mt-8"><span class="text-brand-gold text-5xl font-arabic drop-shadow-sm">مُحَمَّد</span></div>
        <h1 class="text-3xl md:text-5xl font-bold font-serif mb-2 text-brand-dark">রাহমাতুল্লিল আলামিন</h1>
        <p class="text-gray-600 mb-8 text-sm font-serif">জন্ম থেকে ওফাত • পারিবারিক জীবন • রাষ্ট্র পরিচালনা • যুদ্ধের ময়দান</p>

        <!-- ড্যাশবোর্ড -->
        <div class="container mx-auto max-w-4xl">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                <div class="bg-white p-3 rounded-xl shadow-sm border border-gray-100 text-center">
                    <span class="block text-2xl font-bold text-brand-makkan font-serif">৫৩</span>
                    <span class="text-[10px] uppercase text-gray-400 font-bold">বছর মক্কায়</span>
                    <div class="h-1 w-full bg-orange-100 mt-2 rounded-full overflow-hidden"><div class="h-full bg-brand-makkan w-[84%]"></div></div>
                </div>
                <div class="bg-white p-3 rounded-xl shadow-sm border border-gray-100 text-center">
                    <span class="block text-2xl font-bold text-brand-madinan font-serif">১০</span>
                    <span class="text-[10px] uppercase text-gray-400 font-bold">বছর মদিনায়</span>
                    <div class="h-1 w-full bg-green-100 mt-2 rounded-full overflow-hidden"><div class="h-full bg-brand-madinan w-[16%]"></div></div>
                </div>
                <div class="bg-white p-3 rounded-xl shadow-sm border border-gray-100 text-center">
                    <span class="block text-2xl font-bold text-brand-battle font-serif">২৭</span>
                    <span class="text-[10px] uppercase text-gray-400 font-bold">গাজওয়া (যুদ্ধ)</span>
                    <div class="h-1 w-full bg-red-100 mt-2 rounded-full overflow-hidden"><div class="h-full bg-brand-battle w-[100%]"></div></div>
                </div>
                <div class="bg-white p-3 rounded-xl shadow-sm border border-gray-100 text-center">
                    <span class="block text-2xl font-bold text-brand-family font-serif">১১</span>
                    <span class="text-[10px] uppercase text-gray-400 font-bold">উম্মাহাতুল মুমিনিন</span>
                    <div class="h-1 w-full bg-purple-100 mt-2 rounded-full overflow-hidden"><div class="h-full bg-brand-family w-full"></div></div>
                </div>
            </div>
        </div>
    </header>

    <!-- টাইমলাইন কন্টেইনার -->
    <main class="container mx-auto px-4 pb-32 relative z-10 max-w-5xl" id="timeline-feed"></main>

    <!-- ফুটার -->
    <footer class="bg-white border-t border-gray-200 py-8 relative z-10 text-center">
        <p class="text-brand-dark font-arabic text-xl mb-1">صلى الله عليه وسلم</p>
        <p class="text-[10px] text-gray-400 font-mono">তথ্যসূত্র: আর-রাহিকুল মাখতুম, সিরাতে ইবনে হিশাম, সহীহ বুখারী</p>
    </footer>

    <!-- মোডাল (পপ-আপ) -->
    <div id="modal-overlay" class="modal-overlay fixed inset-0 z-[100] bg-brand-dark/40 backdrop-blur-sm flex items-center justify-center p-2 md:p-4">
        <div class="modal-panel bg-paper w-full h-full md:h-auto md:max-h-[85vh] md:max-w-3xl md:rounded-xl shadow-2xl flex flex-col overflow-hidden relative border border-white">
            <div class="bg-white border-b border-gray-100 px-5 py-3 flex justify-between items-center sticky top-0 z-20 shadow-sm shrink-0">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-full flex items-center justify-center text-lg shadow-inner bg-gray-50 text-brand-gold"><i id="m-icon-header"></i></div>
                    <div>
                        <div class="flex gap-2 mb-0.5"><span id="m-year-badge" class="text-[9px] font-bold uppercase tracking-widest px-2 py-0.5 rounded text-white bg-brand-base"></span><span id="m-cat-badge" class="text-[9px] font-bold uppercase tracking-widest px-2 py-0.5 rounded border border-gray-200 text-gray-500"></span></div>
                        <h2 id="m-title" class="text-lg md:text-xl font-serif font-bold text-brand-dark leading-tight"></h2>
                    </div>
                </div>
                <button onclick="closeModal()" class="w-8 h-8 rounded-full bg-gray-50 hover:bg-red-50 hover:text-red-500 text-gray-400 flex items-center justify-center transition"><i class="fas fa-times"></i></button>
            </div>
            <div class="bg-white border-b border-gray-100 px-5 flex gap-6 overflow-x-auto shrink-0">
                <button onclick="switchTab('story')" id="tab-story" class="tab-btn active py-3 text-sm font-bold flex gap-2 whitespace-nowrap"><i class="fas fa-book-open"></i> গল্প</button>
                <button onclick="switchTab('stats')" id="tab-stats" class="tab-btn py-3 text-sm font-bold flex gap-2 whitespace-nowrap"><i class="fas fa-table"></i> তথ্য</button>
                <button onclick="switchTab('lesson')" id="tab-lesson" class="tab-btn py-3 text-sm font-bold flex gap-2 whitespace-nowrap"><i class="fas fa-lightbulb"></i> শিক্ষা</button>
            </div>
            <div class="flex-1 overflow-y-auto custom-scroll p-5 md:p-8 bg-paper relative">
                <div id="content-story" class="tab-content active relative z-10">
                    <p id="m-subtitle" class="text-center text-brand-gold font-serif italic text-lg font-medium mb-6 pb-2 border-b border-gray-200 border-dashed"></p>
                    <div id="m-story" class="prose prose-sm md:prose-base max-w-none font-serif text-gray-700 leading-loose text-justify"></div>
                </div>
                <div id="content-stats" class="tab-content relative z-10">
                    <h3 class="text-lg font-bold text-brand-dark mb-4 flex items-center gap-2"><i class="fas fa-info-circle text-brand-base"></i> এক নজরে</h3>
                    <div id="m-stats-table-container"></div>
                </div>
                <div id="content-lesson" class="tab-content relative z-10">
                    <div class="bg-white p-6 rounded-lg shadow-sm border-l-4 border-brand-gold mb-6">
                        <h4 class="text-xs font-bold text-brand-gold uppercase tracking-widest mb-3 flex items-center gap-2"><i class="fas fa-lightbulb"></i> শিক্ষা ও তাৎপর্য</h4>
                        <ul id="m-lesson-list" class="space-y-3 list-none"></ul>
                    </div>
                    <p id="m-source" class="text-right text-[10px] text-gray-400 font-mono"></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        function toBanglaNum(n) { return String(n).replace(/[0-9]/g, d => "০১২৩৪৫৬৭৮৯"[d]); }

        // --- বাংলা ক্যাটাগরি ম্যাপ ---
        const categoryMap = {
            'makkan': 'মক্কী জীবন',
            'madinan': 'মাদানী জীবন',
            'family': 'পারিবারিক',
            'battle': 'গাজওয়া/যুদ্ধ',
            'state': 'রাষ্ট্র ও নীতি',
            'character': 'চরিত্র ও শামায়েল',
            'wisdom': 'উপদেশ ও প্রজ্ঞা'
        };

        // --- সম্পূর্ণ ডাটাবেস (৬০+ ইভেন্ট) ---
        const seerahDB = [
            // PRE-PROPHETHOOD
            { id: 1, year: "545", category: "makkan", icon: "fas fa-water", title: "আব্দুল মুত্তালিব ও জমজম", subtitle: "হারানো কূয়োর পুনরুদ্ধার", 
              story: `<p class="drop-cap">ন</p>বীজির জন্মের বহু আগে তাঁর দাদা আব্দুল মুত্তালিব স্বপ্নে জমজম কূয়োর অবস্থান জানতে পারেন, যা জুরহুম গোত্র মক্কা ত্যাগের সময় ভরাট করে গিয়েছিল। কুরাইশদের বাধার মুখেও তিনি একা ওই স্থান খনন করেন এবং জমজমের পবিত্র পানি পুনরুদ্ধার করেন। তিনি মানত করেছিলেন যে, আল্লাহ যদি তাঁকে ১০টি পুত্র সন্তান দেন, তবে তিনি একজনকে কোরবানি করবেন। পরবর্তীতে ১০০ উট কোরবানি দিয়ে তিনি পুত্র আব্দুল্লাহকে (নবীজির পিতা) রক্ষা করেন।`, 
              stats: { "ঘটনা": "জমজম খনন", "স্বপ্নদ্রষ্টা": "আব্দুল মুত্তালিব", "বাধা": "কুরাইশ সর্দাররা" }, lessons: ["আল্লাহর নিদর্শনের প্রতি সম্মান।"], source: "সিরাতে ইবনে হিশাম" },
            
            { id: 2, year: "570", category: "makkan", icon: "fas fa-star", title: "পবিত্র জন্ম (আমুল ফিল)", subtitle: "নূরের আগমন ও আবরাহার পতন", 
              story: `<p class="drop-cap">ত</p>খনকার আরব সমাজ ছিল ঘোর অন্ধকারে নিমজ্জিত। ঠিক সেই সময়ে, ১২ই রবিউল আউয়াল সোমবার সুবহে সাদিকের সময় মক্কার কুরাইশ বংশে মা আমিনার কোল আলোকিত করে জন্মগ্রহণ করেন হযরত মুহাম্মদ (সা.)। <p>তাঁর জন্মের মাত্র ৫০-৫৫ দিন আগে ইয়েমেনের বাদশা আবরাহা বিশাল হাতির বাহিনী নিয়ে কাবা শরীফ ধ্বংস করতে এসেছিল। আল্লাহ আবাবিল পাখি পাঠিয়ে তাদের ধ্বংস করে দেন। আব্দুল মুত্তালিব নাতিকে কোলে নিয়ে কাবার ভেতরে প্রবেশ করেন এবং নাম রাখেন 'মুহাম্মদ', যার অর্থ 'প্রশংসিত'—যা আরবে আগে কারো নাম ছিল না।</p>`, 
              stats: { "তারিখ": "১২ রবিউল আউয়াল, ৫৭০ খ্রি.", "পিতা": "আব্দুল্লাহ", "মাতা": "আমিনা", "দাত্রী": "শিফা বিনতে আউফ" }, lessons: ["আল্লাহ তাঁর ঘর রক্ষা করেন।"], source: "আর-রাহিকুল মাখতুম" },

            { id: 3, year: "575", category: "makkan", icon: "fas fa-heart", title: "বক্ষ বিদীর্ণ (শাক্কুল সদর)", subtitle: "হালিমার গৃহে অলৌকিক ঘটনা", 
              story: `<p class="drop-cap">ব</p>নু সা'দ গোত্রে ৪ বছর বয়সে ফেরেশতা জিবরাঈল (আ.) এসে শিশু নবীজির বক্ষ বিদীর্ণ করে হৃদয়ের কালো অংশ বের করে জমজমের পানি দিয়ে ধুয়ে দেন।`, 
              stats: { "বয়স": "৪ বছর", "দুধমা": "হালিমা সাদিয়া", "স্থান": "বনু সা'দ পল্লী" }, lessons: ["শৈশব থেকেই আত্মিক প্রস্তুতি।"], source: "সহীহ মুসলিম" },

            { id: 4, year: "576", category: "makkan", icon: "fas fa-child", title: "মায়ের ইন্তেকাল", subtitle: "আবওয়ায় মাতৃবियोग", 
              story: `<p class="drop-cap">৬</p> বছর বয়সে মা আমিনা শিশু নবীজিকে নিয়ে মদিনায় (তৎকালীন ইয়াসরিব) স্বামীর কবর জিয়ারতে যান। সেখানে এক মাস থাকার পর ফেরার পথে 'আবওয়া' নামক স্থানে মা আমিনা হঠাৎ অসুস্থ হয়ে ইন্তেকাল করেন। দাসী উম্মে আইমান এতিম শিশুটিকে মক্কায় নিয়ে আসেন।`, 
              stats: { "বয়স": "৬ বছর", "স্থান": "আবওয়া", "অভিভাবক": "দাদা আব্দুল মুত্তালিব" }, lessons: ["আল্লাহর ওপর পূর্ণ নির্ভরশীলতা।"], source: "সিরাতে ইবনে হিশাম" },

            { id: 5, year: "578", category: "makkan", icon: "fas fa-user-shield", title: "দাদার ইন্তেকাল", subtitle: "চাচার অভিভাবকত্ব", 
              story: `<p class="drop-cap">৮</p> বছর বয়সে দাদাও মারা যান। মৃত্যুর আগে দাদা তাঁর পুত্র আবু তালিবকে ওসিয়ত করে যান এতিম নাতিকে দেখে রাখার জন্য। চাচা আবু তালিব ছিলেন দরিদ্র কিন্তু অত্যন্ত সম্ভ্রান্ত। তিনি নবীজিকে নিজের সন্তানের চেয়েও বেশি স্নেহ করতেন।`, 
              stats: { "বয়স": "৮ বছর", "নতুন অভিভাবক": "আবু তালিব" }, lessons: ["আত্মীয়তার সম্পর্কের গুরুত্ব।"], source: "আর-রাহিকুল মাখতুম" },

            { id: 6, year: "582", category: "makkan", icon: "fas fa-cloud-sun", title: "সিরিয়া সফর ও বাহিরা", subtitle: "সন্ন্যাসীর ভবিষ্যদ্বাণী", 
              story: `<p class="drop-cap">১</p>২ বছর বয়সে চাচার সাথে সিরিয়া যাওয়ার পথে বাহিরা নামক এক খ্রিস্টান সন্ন্যাসী নবীজিকে দেখে শেষ নবী হিসেবে চিনতে পারেন। তিনি দেখেন, এক খণ্ড মেঘ সবসময় বালকটিকে ছায়া দিচ্ছে। তিনি চাচা আবু তালিবকে সতর্ক করেন যেন ইহুদিরা তাঁর ক্ষতি করতে না পারে।`, 
              stats: { "বয়স": "১২ বছর", "সন্ন্যাসী": "বাহিরা", "স্থান": "বুশরা" }, lessons: ["পূর্ববর্তী কিতাবসমূহে তাঁর আগমনের সুসংবাদ ছিল।"], source: "তিরমিযী" },

            { id: 7, year: "590", category: "makkan", icon: "fas fa-handshake", title: "হিলফুল ফুজুল", subtitle: "শান্তি সংঘ গঠন", 
              story: `<p class="drop-cap">হা</p>রবুল ফিজার যুদ্ধের ভয়াবহতা দেখে ২০ বছর বয়সে তিনি শান্তিকামী যুবকদের নিয়ে একটি সংঘ গঠন করেন। এর লক্ষ্য ছিল: মক্কায় কোনো মজলুমকে নির্যাতিত হতে না দেওয়া এবং অত্যাচারীর হাত থেকে দুর্বলকে রক্ষা করা।`, 
              stats: { "বয়স": "২০ বছর", "লক্ষ্য": "মজলুমের সাহায্য", "উদ্যোক্তা": "জুবায়ের" }, lessons: ["সামাজিক অন্যায়ের বিরুদ্ধে ঐক্যবদ্ধ হওয়া।"], source: "মুসনাদে আহমাদ" },

            // MARRIAGE & FAMILY (UMMAHATUL MUMININ)
            { id: 8, year: "595", category: "family", icon: "fas fa-ring", title: "খাদিজা (রা.)-এর সাথে বিবাহ", subtitle: "প্রথম স্ত্রী ও প্রধান আশ্রয়", 
              story: `<p class="drop-cap">২</p>৫ বছর বয়সে মক্কার ধনাঢ্য নারী খাদিজা (রা.) তাঁর সততায় মুগ্ধ হয়ে বিবাহের প্রস্তাব দেন। তিনি ছিলেন নবীজির প্রথম স্ত্রী এবং বিপদে-আপদে সবচেয়ে বড় সমর্থক। তিনি নিজের সব সম্পদ ইসলামের জন্য ব্যয় করেন। নবীজি তাঁকে জীবদ্দশায় অন্য কাউকে বিয়ে করেননি। খাদিজা (রা.)-এর জীবদ্দশায় নবীজির সব সন্তান (ইব্রাহিম ছাড়া) জন্মগ্রহণ করেন।`, 
              stats: { "নবীজির বয়স": "২৫ বছর", "খাদিজা (রা.)": "৪০ বছর", "সন্তান": "কাসিম, জয়নব, রুকাইয়া, উম্মে কুলসুম, ফাতিমা, আব্দুল্লাহ" }, lessons: ["দাম্পত্য জীবনে পারস্পরিক ত্যাগ।"], source: "সহীহ বুখারী" },

            { id: 9, year: "605", category: "makkan", icon: "fas fa-cubes", title: "কাবা পুনর্নির্মাণ", subtitle: "হাজরে আসওয়াদ স্থাপন", 
              story: `<p class="drop-cap">৩</p>৫ বছর বয়সে কাবা পুনর্নির্মাণের সময় হাজরে আসওয়াদ স্থাপন নিয়ে গোত্রগুলোর মধ্যে রক্তক্ষয়ী যুদ্ধের উপক্রম হয়। নবীজি নিজের চাদর বিছিয়ে পাথরটি তাতে রাখলেন এবং সব গোত্রপ্রধানকে চাদরটি ধরতে বললেন। এভাবে তিনি এক মহাবিপদ থেকে মক্কাবাসীকে রক্ষা করলেন।`, 
              stats: { "বয়স": "৩৫ বছর", "মীমাংসা": "চাদরের ব্যবহার", "উপাধি": "আল-আমিন" }, lessons: ["নেতৃত্বগুণ ও বিচক্ষণতা দিয়ে বড় বিবাদ মেটানো সম্ভব।"], source: "সিরাতে ইবনে হিশাম" },

            // PROPHETHOOD
            { id: 10, year: "610", category: "makkan", icon: "fas fa-book-quran", title: "নবুওয়াত প্রাপ্তি", subtitle: "হেরা গুহা ও ওহী", 
              story: `<p class="drop-cap">৪</p>০ বছর বয়সে তিনি হেরা গুহায় ধ্যানে মগ্ন থাকতেন। রমজান মাসে জিবরাঈল (আ.) এসে বললেন, 'ইকরা' (পড়ুন)। তিনি উত্তর দিলেন, 'আমি পড়তে জানি না।' জিবরাঈল (আ.) তাঁকে বুকে চেপে ধরলেন এবং সূরা আলাকের প্রথম ৫ আয়াত পাঠ করালেন। এটিই ছিল কুরআনের প্রথম অবতরণ।`, 
              stats: { "স্থান": "হেরা গুহা", "সূরা": "আলাক (১-৫)", "তারিখ": "রমজান মাস" }, lessons: ["জ্ঞানার্জন ইসলামের প্রথম নির্দেশ।"], source: "সহীহ বুখারী" },

            { id: 11, year: "613", category: "makkan", icon: "fas fa-bullhorn", title: "প্রকাশ্য দাওয়াত", subtitle: "সাফা পাহাড়ে ঘোষণা", 
              story: `<p class="drop-cap">৩</p> বছর গোপন দাওয়াতের পর আল্লাহ নির্দেশ দিলেন প্রকাশ্যে দাওয়াত দেওয়ার। তিনি সাফা পাহাড়ে উঠে মক্কাবাসীকে সমবেত করে এক আল্লাহর ইবাদতের ডাক দিলেন। আবু লাহাব ক্ষিপ্ত হয়ে তাঁকে অভিশাপ দিল।`, 
              stats: { "স্থান": "সাফা পাহাড়", "বিরোধিতাকারী": "আবু লাহাব", "আয়াত": "নিকটাত্মীয়দের সতর্ক করুন" }, lessons: ["সত্য প্রকাশে কোনো ভয় বা আপস নেই।"], source: "সহীহ মুসলিম" },

            { id: 12, year: "615", category: "makkan", icon: "fas fa-plane-departure", title: "হাবশায় হিজরত", subtitle: "নাজ্জাশীর দরবার", 
              story: `<p class="drop-cap">নি</p>র্যাতন সইতে না পেরে নবীজির নির্দেশে একদল সাহাবী আবিসিনিয়ায় (বর্তমান ইথিওপিয়া) হিজরত করেন। সেখানে ন্যায়পরায়ণ খ্রিস্টান রাজা ছিলেন, নাম নাজ্জাশী। জাফর (রা.) তাঁর দরবারে ইসলামের সৌন্দর্য তুলে ধরলে রাজা কেঁদে ফেলেন এবং মুসলিমদের আশ্রয় দেন।`, 
              stats: { "দেশ": "আবিসিনিয়া", "রাজা": "নাজ্জাশী", "হিজরতকারী": "১২ জন পুরুষ, ৪ জন নারী (১ম দল)" }, lessons: ["দ্বীনের জন্য দেশত্যাগ ও আন্তঃধর্মীয় সংলাপের গুরুত্ব।"], source: "আর-রাহিকুল মাখতুম" },

            { id: 13, year: "616", category: "makkan", icon: "fas fa-fist-raised", title: "হামজা ও উমরের ইসলাম গ্রহণ", subtitle: "ইসলামের শক্তি বৃদ্ধি", 
              story: `<p class="drop-cap">বী</p>র হামজা (রা.) এবং এরপর উমর ইবনুল খাত্তাব (রা.) ইসলাম গ্রহণ করেন। উমরের ইসলাম গ্রহণে মুসলিমরা এতটাই শক্তি পেল যে, তারা প্রথমবারের মতো প্রকাশ্যে কাবার সামনে সালাত আদায় শুরু করল।`, 
              stats: { "ব্যক্তিত্ব": "হামজা ও উমর (রা.)", "ফলাফল": "প্রকাশ্য ইবাদত শুরু" }, lessons: ["আল্লাহর সাহায্য অপ্রত্যাশিতভাবে আসে।"], source: "সিরাতে ইবনে হিশাম" },

            { id: 14, year: "617", category: "makkan", icon: "fas fa-ban", title: "শি'আবে আবু তালিবে বয়কট", subtitle: "অমানবিক জীবন", 
              story: `<p class="drop-cap">কু</p>রাইশরা বনু হাশিম গোত্রকে বয়কট করে। ৩ বছর তারা শি'আবে আবু তালিব উপত্যকায় বন্দী জীবন কাটান। খাবারের অভাবে সাহাবীরা গাছের পাতা ও শুকনা চামড়া খেতে বাধ্য হন।`, 
              stats: { "মেয়াদ": "৩ বছর", "স্থান": "শি'আবে আবু তালিব", "শর্ত": "বিয়ে ও কেনাবেচা নিষিদ্ধ" }, lessons: ["ঈমানের পথে চরম ধৈর্যের পরীক্ষা।"], source: "আর-রাহিকুল মাখতুম" },

            { id: 15, year: "617", category: "makkan", icon: "fas fa-moon", title: "চাঁদ দ্বিখণ্ডন (শাক্কুল কামার)", subtitle: "মক্কার অলৌকিক নিদর্শন", 
              story: `<p class="drop-cap">ম</p>ক্কার কাফেররা নবীজির কাছে কোনো অলৌকিক নিদর্শন দেখতে চাইল। নবীজি আল্লাহর কাছে দোয়া করলেন এবং ইশারায় চাঁদকে দ্বিখণ্ডিত করলেন। চাঁদের দুই টুকরো হেরা পাহাড়ের দুই পাশে দেখা গেল।`, 
              stats: { "স্থান": "মিনা/মক্কা", "সাক্ষী": "মক্কাবাসী ও বহু কাফেলা", "আয়াত": "সূরা কামার: ১-২" }, lessons: ["আল্লাহর ক্ষমতার নিদর্শন।"], source: "বুখারী" },

            { id: 16, year: "619", category: "makkan", icon: "fas fa-heart-broken", title: "আমুল হুযন (দুঃখের বছর)", subtitle: "স্বজন হারানোর বেদনা", 
              story: `<p class="drop-cap">ব</p>য়কট শেষ হওয়ার কিছুদিন পরেই নবীজির চাচা আবু তালিব এবং প্রিয়তমা স্ত্রী খাদিজা (রা.) ইন্তেকাল করেন। নবীজি মক্কায় আশ্রয়হীন হয়ে পড়েন।`, 
              stats: { "বিয়োগ": "চাচা আবু তালিব ও স্ত্রী খাদিজা", "বছর": "১০ম নববী বর্ষ" }, lessons: ["একমাত্র আল্লাহর ওপর ভরসা রাখা।"], source: "সহীহ বুখারী" },

            { id: 17, year: "619", category: "makkan", icon: "fas fa-sad-tear", title: "তায়েফ ট্র্যাজেডি", subtitle: "রক্তাক্ত নবী", 
              story: `<p class="drop-cap">ম</p>ক্কায় নিরাশ হয়ে তিনি তায়েফে যান। কিন্তু তায়েফবাসীরা তাঁকে পাথর মেরে রক্তাক্ত করে। জিবরাঈল (আ.) পাহাড় দিয়ে তাদের ধ্বংস করার অনুমতি চাইলে দয়ার নবী বললেন, 'আমি আশা করি আল্লাহ তাদের বংশধরদের হেদায়েত দেবেন।'`, 
              stats: { "স্থান": "তায়েফ", "সঙ্গী": "জায়েদ বিন হারিসা", "দোয়া": "হেদায়েতের জন্য" }, lessons: ["প্রতিশোধ না নিয়ে ক্ষমা করা নবওয়ী চরিত্র।"], source: "সহীহ মুসলিম" },

            { id: 18, year: "619", category: "makkan", icon: "fas fa-users", title: "জিনদের ইসলাম গ্রহণ", subtitle: "নাখলা উপত্যকা", 
              story: `<p class="drop-cap">তা</p>য়েফ থেকে ফেরার পথে নাখলা উপত্যকায় নবীজি ফজরের নামাজ পড়ছিলেন। তখন একদল জিন তাঁর কুরআন তিলাওয়াত শুনে মুগ্ধ হয় এবং ইসলাম গ্রহণ করে।`, 
              stats: { "স্থান": "নাখলা", "শ্রোতা": "নসীবীন এলাকার জিন", "সূরা": "সূরা জিন" }, lessons: ["কুরআনের প্রভাব জিনদের ওপরও।"], source: "তাফসীরে ইবনে কাসির" },

            { id: 19, year: "620", category: "makkan", icon: "fas fa-rocket", title: "ইসরা ও মিরাজ", subtitle: "ঊর্ধ্বগমন", 
              story: `<p class="drop-cap">এ</p>ক রাতে জিবরাঈল (আ.) বোরাক নিয়ে আসেন। নবীজি মক্কা থেকে জেরুজালেম এবং সেখান থেকে সাত আসমান পাড়ি দিয়ে আল্লাহর সান্নিধ্যে পৌঁছান। এই রাতেই ৫ ওয়াক্ত সালাত ফরজ হয়।`, 
              stats: { "বাহন": "বোরাক", "উপহার": "৫ ওয়াক্ত সালাত", "স্থান": "বাইতুল মুকাদ্দাস ও আরশ" }, lessons: ["সালাত মুমিনের মিরাজ।"], source: "সূরা বনী ইসরাঈল" },

            { id: 20, year: "620", category: "family", icon: "fas fa-ring", title: "সাওদা বিনতে জামআ (রা.)", subtitle: "দ্বিতীয় স্ত্রী", 
              story: `<p class="drop-cap">খ</p>াদিজা (রা.)-এর ইন্তেকালের পর নবীজি খুব নিঃসঙ্গ হয়ে পড়েন এবং ছোট মেয়েদের দেখাশোনার সমস্যা হয়। তখন তিনি সাওদা (রা.)-কে বিয়ে করেন। তিনি ছিলেন বয়স্ক, বিধবা এবং অত্যন্ত দয়ালু। তিনি নবীজির সন্তুষ্টির জন্য নিজের 'বারির দিন' (নবীজির সঙ্গ পাওয়ার পালা) আয়েশা (রা.)-কে উপহার দিয়েছিলেন।`, 
              stats: { "বিবাহের সময়": "নবুওয়াতের ১০ম বছর", "অবস্থা": "বিধবা", "বৈশিষ্ট্য": "অত্যন্ত দানশীল" }, lessons: ["পরিবারের প্রয়োজনে বিয়ে।"], source: "সিরাতে ইবনে হিশাম" },

            // MADINAN ERA
            { id: 21, year: "622", category: "madinan", icon: "fas fa-route", title: "ঐতিহাসিক হিজরত", subtitle: "মদিনায় রাষ্ট্র গঠন", 
              story: `<p class="drop-cap">হ</p>ত্যার ষড়যন্ত্র থেকে বাঁচতে এবং দ্বীন প্রতিষ্ঠার লক্ষ্যে আল্লাহর নির্দেশে হিজরত। আলী (রা.)-কে বিছানায় রেখে আবু বকর (রা.)-কে সাথী করে তিনি বের হলেন। সাওর গুহায় ৩ দিন আত্মগোপন করলেন। এরপর মদিনায় পৌঁছান।`, 
              stats: { "সঙ্গী": "আবু বকর (রা.)", "গুহা": "সাওর", "ফলাফল": "হিজরি সনের শুরু" }, lessons: ["সর্বোচ্চ ত্যাগ ও আল্লাহর ওপর তাওয়াক্কুল।"], source: "সূরা তাওবা" },

            { id: 22, year: "622", category: "madinan", icon: "fas fa-mosque", title: "মসজিদে নববী নির্মাণ", subtitle: "ইসলামের কেন্দ্র", 
              story: `<p class="drop-cap">ম</p>দিনায় পৌঁছে নবীজি প্রথম যে কাজটি করলেন তা হলো মসজিদ নির্মাণ। তিনি নিজেও সাহাবীদের সাথে ইট ও পাথর বহন করেছেন। এটি ছিল ইবাদত, বিচার ও পরামর্শের কেন্দ্র।`, 
              stats: { "স্থান": "দুই এতিম বালকের জমি", "মূল্য পরিশোধ": "আবু বকর (রা.)" }, lessons: ["সমাজ গঠনে মসজিদের ভূমিকা অপরিসীম।"], source: "বুখারী" },

            { id: 23, year: "623", category: "state", icon: "fas fa-scroll", title: "মদিনার সনদ", subtitle: "পৃথিবীর প্রথম লিখিত সংবিধান", 
              story: `<p class="drop-cap">ম</p>দিনায় বসবাসরত ইহুদি, খ্রিস্টান ও মুসলিমদের মধ্যে শান্তি বজায় রাখার জন্য নবীজি (সা.) ঐতিহাসিক 'মদিনার সনদ' প্রণয়ন করেন। এতে ধর্মীয় স্বাধীনতা, পারস্পরিক নিরাপত্তা এবং মদিনার প্রতিরক্ষার বিষয়গুলো নিশ্চিত করা হয়।`, 
              stats: { "দলিল": "মদিনার সনদ", "ধারা": "৪৭টি", "উদ্দেশ্য": "শান্তি ও নিরাপত্তা" }, lessons: ["সংখ্যালঘুদের অধিকার রক্ষা ও রাষ্ট্র পরিচালনার মূলনীতি।"], source: "সিরাতে ইবনে হিশাম" },

            { id: 24, year: "623", category: "personal", icon: "fas fa-hands-helping", title: "মুওয়াকাত (ভ্রাতৃত্ব বন্ধন)", subtitle: "নজিরবিহীন ত্যাগ", 
              story: `<p class="drop-cap">ম</p>ক্কা থেকে আগত নিঃস্ব মুহাজিরদের সাথে মদিনার আনসারদের ভাই পাতিয়ে দেন। আনসাররা নিজেদের সম্পত্তি অর্ধেক করে মুহাজির ভাইদের দিয়ে দেন।`, 
              stats: { "সম্পর্ক": "আনসার ও মুহাজির", "নীতি": "ভ্রাতৃত্ব ও সাম্য" }, lessons: ["মুমিনরা একে অপরের ভাই।"], source: "বুখারী" },

            { id: 25, year: "624", category: "family", icon: "fas fa-heart", title: "আয়েশা (রা.)-এর সাথে সংসার", subtitle: "সবচেয়ে প্রিয়তমা স্ত্রী", 
              story: `<p class="drop-cap">হিজ</p>রতের পর মদিনায় আয়েশা (রা.)-এর সাথে নবীজির সংসার জীবন শুরু হয়। তিনি ছিলেন একমাত্র কুমারী স্ত্রী। নবীজি তাঁকে 'হুমায়রা' (লালচে ফর্সা) ডাকতেন। তাঁর কোলে মাথা রেখেই নবীজি ইন্তেকাল করেন। ইলম, ফিকহ এবং হাদিস বর্ণনায় তাঁর অবদান অপরিসীম।`, 
              stats: { "বিবাহ": "মক্কায়", "ঘরে তোলা": "মদিনায় (২য় হিজরি)", "পিতা": "আবু বকর (রা.)" }, lessons: ["স্ত্রীর সাথে বিনোদন ও শিক্ষা।"], source: "বুখারী" },

            { id: 26, year: "624", category: "battle", icon: "fas fa-shield-alt", title: "বদর যুদ্ধ", subtitle: "সত্য ও মিথ্যার ফয়সালা", 
              story: `<p class="drop-cap">৩</p>১৩ জন সাহাবী নিয়ে ১০০০ কাফেরের বিরুদ্ধে ঐতিহাসিক বিজয়। নবীজি আল্লাহর কাছে কেঁদে কেঁদে দোয়া করেছিলেন। আল্লাহ ৩০০০ ফেরেশতা পাঠিয়ে সাহায্য করেন। আবু জাহেল নিহত হয়।`, 
              stats: { "তারিখ": "১৭ রমজান, ২য় হিজরি", "মুসলিম": "৩১৩", "কাফের": "১০০০", "শহীদ": "১৪" }, lessons: ["সংখ্যা নয়, ঈমানী শক্তিই বিজয়ের মূল।"], source: "সূরা আনফাল" },

            { id: 27, year: "624", category: "battle", icon: "fas fa-users-slash", title: "বনু কাইনুকা অভিযান", subtitle: "বিশ্বাসঘাতক ইহুদিদের বহিষ্কার", 
              story: `<p class="drop-cap">ব</p>দরের পর মদিনার ইহুদি গোত্র বনু কাইনুকা চুক্তি ভঙ্গ করে এবং এক মুসলিম নারীকে অপমান করে। নবীজি তাদের অবরোধ করেন এবং শেষে মদিনা থেকে বহিষ্কার করেন।`, 
              stats: { "গোত্র": "বনু কাইনুকা", "অপরাধ": "চুক্তিভঙ্গ ও শ্লীলতাহানি", "শাস্তি": "নির্বাসন" }, lessons: ["রাষ্ট্রের নিরাপত্তা ও নারীর সম্মান রক্ষা।"], source: "সিরাতে ইবনে হিশাম" },

            { id: 28, year: "625", category: "family", icon: "fas fa-ring", title: "হাফসা বিনতে উমর (রা.)", subtitle: "উমরের কন্যা", 
              story: `<p class="drop-cap">ব</p>দর যুদ্ধে স্বামী খুমাইস (রা.) শহীদ হওয়ার পর হাফসা (রা.) বিধবা হন। উমর (রা.) তাঁর বিয়ে নিয়ে চিন্তিত ছিলেন। তিনি আবু বকর ও উসমান (রা.)-কে প্রস্তাব দেন, কিন্তু তাঁরা রাজি হননি। নবীজি তাঁকে বিয়ে করে উমর (রা.)-এর সম্মান বৃদ্ধি করেন। তিনি ছিলেন 'সায়্যামা' (অধিক রোজা পালনকারী) ও 'কাওয়ামা' (অধিক রাত জাগরণকারী)।`, 
              stats: { "পিতা": "উমর (রা.)", "বৈশিষ্ট্য": "সায়্যামা ও কাওয়ামা", "বিবাহ": "৩য় হিজরি" }, lessons: ["শহীদ পরিবারের পাশে দাঁড়ানো।"], source: "ইবনে মাজাহ" },

            { id: 29, year: "625", category: "battle", icon: "fas fa-mountain", title: "ওহুদ যুদ্ধ", subtitle: "বিপর্যয় ও শিক্ষা", 
              story: `<p class="drop-cap">তী</p>রন্দাজদের ভুলে বিজয়ের দ্বারপ্রান্ত থেকে যুদ্ধের মোড় ঘুরে যায়। নবীজির দাঁত শহীদ হয় এবং বীর হামজা (রা.) শাহাদাত বরণ করেন।`, 
              stats: { "শহীদ": "৭০ জন", "নেতা (বিপক্ষ)": "খালিদ বিন ওয়ালিদ" }, lessons: ["নেতার আদেশ অমান্য করলে বিপর্যয় অনিবার্য।"], source: "সূরা আল-ইমরান" },

            { id: 30, year: "625", category: "battle", icon: "fas fa-flag-checkered", title: "হামরাউল আসাদ অভিযান", subtitle: "সাহসের প্রদর্শন", 
              story: `<p class="drop-cap">ও</p>হুদ যুদ্ধের পরদিনই আহত শরীর নিয়ে নবীজি শত্রুদের পিছু ধাওয়া করার নির্দেশ দেন, যাতে কুরাইশরা মদিনায় আক্রমণের সাহস না পায়। মুসলিমদের এই মনোবলে শত্রুরা পালিয়ে যায়।`, 
              stats: { "সময়": "উহুদের পরদিন", "কৌশল": "শত্রুকে ভয় দেখানো" }, lessons: ["পরাজয়ে দমে না গিয়ে ঘুরে দাঁড়ানো।"], source: "সূরা আল-ইমরান" },

            { id: 31, year: "625", category: "battle", icon: "fas fa-dungeon", title: "বনু নাজির অভিযান", subtitle: "হত্যার ষড়যন্ত্র", 
              story: `<p class="drop-cap">ই</p>হুদি গোত্র বনু নাজির নবীজিকে পাথর মেরে হত্যার ষড়যন্ত্র করে। জিবরাঈল (আ.) নবীজিকে জানিয়ে দেন। ফলে তাদেরও মদিনা থেকে বহিষ্কার করা হয়।`, 
              stats: { "গোত্র": "বনু নাজির", "অপরাধ": "হত্যার চেষ্টা", "শাস্তি": "খায়বারে নির্বাসন" }, lessons: ["বিশ্বাসঘাতকদের ক্ষমা নেই।"], source: "সূরা হাশর" },

            { id: 32, year: "626", category: "family", icon: "fas fa-ring", title: "জয়নব বিনতে খুজাইমা (রা.)", subtitle: "উম্মুল মাসাকিন", 
              story: `<p class="drop-cap">তি</p>নি ছিলেন অত্যন্ত দানশীল, তাই জাহেলি যুগেই তাঁকে 'উম্মুল মাসাকিন' (গরিবদের মা) বলা হতো। উহুদ যুদ্ধে স্বামী শহীদ হওয়ার পর নবীজি তাঁকে বিয়ে করেন। বিয়ের মাত্র ৩-৮ মাস পর তিনি ইন্তেকাল করেন। খাদিজা (রা.)-এর পর তিনিই একমাত্র স্ত্রী যিনি নবীজির জীবদ্দশায় মারা যান।`, 
              stats: { "উপাধি": "উম্মুল মাসাকিন", "বিবাহকাল": "মাত্র কয়েক মাস" }, lessons: ["গরিবদের প্রতি দয়া।"], source: "সিরাতে ইবনে হিশাম" },

            { id: 33, year: "626", category: "family", icon: "fas fa-ring", title: "উম্মে সালামা (রা.)", subtitle: "ধৈর্যশীলা ও বুদ্ধিমতী", 
              story: `<p class="drop-cap">উ</p>হুদ যুদ্ধে স্বামী আবু সালামা মারাত্মক আহত হয়ে শহীদ হন। তিনি ভেঙে পড়লে নবীজি তাঁকে দোয়া শিখিয়ে দেন এবং পরে নিজেই বিয়ের প্রস্তাব দেন। তিনি ছিলেন অত্যন্ত বুদ্ধিমতী; হুদায়বিয়ার সন্ধির সময় সাহাবীরা যখন হতাশ হয়ে পড়েছিলেন, তখন তাঁর পরামর্শেই নবীজি কোরবানি করে পরিস্থিতি শান্ত করেন।`, 
              stats: { "পূর্ব নাম": "হিন্দ", "বিবাহ": "৪র্থ হিজরি", "বৈশিষ্ট্য": "বুদ্ধিমতী ও পরামর্শদাতা" }, lessons: ["নারীর পরামর্শের গুরুত্ব।"], source: "সিরাতে ইবনে হিশাম" },

            { id: 34, year: "627", category: "battle", icon: "fas fa-dungeon", title: "খন্দক যুদ্ধ", subtitle: "পরিখা খনন কৌশল", 
              story: `<p class="drop-cap">১০</p>,০০০ সৈন্য মদিনা ঘেরাও করে। সালমান ফারসি (রা.)-এর পরামর্শে মদিনার চারপাশে পরিখা খনন করা হয়। শত্রুরা এটি পার হতে না পেরে এবং ঝড়ের কবলে পড়ে পালিয়ে যায়।`, 
              stats: { "পরামর্শক": "সালমান ফারসি (রা.)", "স্থায়িত্ব": "১ মাস" }, lessons: ["যুদ্ধে কৌশল ও পরামর্শ (শূরা) গ্রহণ করা জরুরি।"], source: "সূরা আহযাব" },

            { id: 35, year: "627", category: "battle", icon: "fas fa-gavel", title: "বনু কুরাইজা অভিযান", subtitle: "চরম বিশ্বাসঘাতকতা", 
              story: `<p class="drop-cap">খ</p>ন্দক যুদ্ধের কঠিন সময়ে বনু কুরাইজা চুক্তি ভঙ্গ করে পেছন থেকে আক্রমণের চেষ্টা করে। সা'দ বিন মুয়াজ (রা.)-এর ফয়সালা অনুযায়ী তাদের যোদ্ধাদের মৃত্যুদণ্ড দেওয়া হয়।`, 
              stats: { "বিচারক": "সা'দ বিন মুয়াজ (রা.)", "অপরাধ": "রাষ্ট্রদ্রোহিতা" }, lessons: ["বিশ্বাসঘাতকতার কঠিন শাস্তি।"], source: "সিরাতে ইবনে হিশাম" },

            { id: 36, year: "627", category: "family", icon: "fas fa-ring", title: "জয়নব বিনতে জাহশ (রা.)", subtitle: "আল্লাহর নির্দেশে বিবাহ", 
              story: `<p class="drop-cap">এ</p>ই বিবাহটি ছিল আরবের এক কঠিন কুসংস্কার ভাঙার জন্য। পালক পুত্রের তালাকপ্রাপ্তা স্ত্রীকে বিয়ে করা জাহেলি যুগে নিষিদ্ধ ছিল। আল্লাহ সেই প্রথা ভাঙার জন্য ওহীর মাধ্যমে নবীজিকে জায়েদ বিন হারিসার সাবেক স্ত্রী জয়নব (রা.)-এর সাথে বিয়ে দেন।`, 
              stats: { "বিবাহ": "৫ম হিজরি", "আয়াত": "সূরা আহযাব: ৩৭", "বৈশিষ্ট্য": "আল্লাহ কর্তৃক বিবাহ" }, lessons: ["সামাজিক কুসংস্কার দূরীকরণ।"], source: "তাফসীরে ইবনে কাসির" },

            { id: 37, year: "628", category: "state", icon: "fas fa-handshake", title: "হুদায়বিয়ার সন্ধি", subtitle: "কূটনৈতিক মহাবিজয়", 
              story: `<p class="drop-cap">১</p>০ বছরের শান্তি চুক্তি। শর্তগুলো বাহ্যত অপমানজনক মনে হলেও আল্লাহ একে 'ফাতহুম মুবিন' (সুস্পষ্ট বিজয়) ঘোষণা করেন। এর ফলে ইসলামের দাওয়াত ব্যাপকভাবে ছড়িয়ে পড়ে।`, 
              stats: { "স্থান": "হুদায়বিয়া", "ফলাফল": "ইসলামের প্রসার" }, lessons: ["আবেগের চেয়ে দূরদর্শী সিদ্ধান্ত বেশি সুফল বয়ে আনে।"], source: "সূরা ফাতহ" },

            { id: 38, year: "628", category: "state", icon: "fas fa-users", title: "বাইআতে রিদওয়ান", subtitle: "গাছের নিচে শপথ", 
              story: `<p class="drop-cap">উ</p>সমান (রা.)-কে হত্যার গুজব ছড়িয়ে পড়লে নবীজি সাহাবীদের কাছ থেকে আমৃত্যু লড়াইয়ের শপথ নেন। আল্লাহ এই শপথকারীদের ওপর সন্তুষ্টির ঘোষণা দেন।`, 
              stats: { "স্থান": "হুদায়বিয়া (বাবলা গাছের নিচে)", "সংখ্যা": "১৪০০ জন" }, lessons: ["আনুগত্য ও সাহসিকতা।"], source: "সূরা ফাতহ" },

            { id: 39, year: "628", category: "family", icon: "fas fa-ring", title: "জুওয়াইরিয়া (রা.)", subtitle: "বনু মুস্তালিকের মুক্তি", 
              story: `<p class="drop-cap">ব</p>নু মুস্তালিক যুদ্ধে তিনি বন্দী হন। তিনি ছিলেন গোত্রপতির মেয়ে। নবীজি তাঁকে বিয়ে করলে সাহাবীরা তাঁর সম্মানে ওই গোত্রের ১০০টি পরিবারকে দাসত্ব থেকে মুক্তি দিয়ে দেন। আয়েশা (রা.) বলেন, 'কোনো নারী তার গোত্রের জন্য জুওয়াইরিয়ার চেয়ে বেশি বরকতপূর্ণ ছিল না।'`, 
              stats: { "গোত্র": "বনু মুস্তালিক", "ফলাফল": "১০০ পরিবারের মুক্তি", "বিবাহ": "৬ষ্ঠ হিজরি" }, lessons: ["মহানুভবতা ও বন্দীদের মুক্তি।"], source: "আবু দাউদ" },

            { id: 40, year: "628", category: "family", icon: "fas fa-ring", title: "সফিয়া (রা.)", subtitle: "ইহুদি সর্দারের কন্যা", 
              story: `<p class="drop-cap">খা</p>য়বার বিজয়ের পর ইহুদি সর্দার হুয়াই বিন আখতাবের কন্যা সফিয়া বন্দী হন। নবীজি তাঁকে ইসলাম গ্রহণের অথবা নিজ ধর্মে ফিরে যাওয়ার স্বাধীনতা দেন। তিনি ইসলাম গ্রহণ করে নবীজিকে বিয়ে করেন।`, 
              stats: { "পিতা": "হুয়াই বিন আখতাব", "বংশ": "হারুন (আ.)", "বিবাহ": "৭ম হিজরি" }, lessons: ["শত্রুর কন্যার সম্মান রক্ষা।"], source: "বুখারী" },

            { id: 41, year: "628", category: "state", icon: "fas fa-envelope-open-text", title: "রাজাদের কাছে চিঠি", subtitle: "আন্তর্জাতিক দাওয়াত", 
              story: `<p class="drop-cap">ন</p>বীজি রোম সম্রাট হিরাক্লিয়াস, পারস্য সম্রাট কিসরা, মিসরের মুকাওকিস এবং অন্যান্য রাষ্ট্রপ্রধানদের কাছে ইসলামের দাওয়াত দিয়ে চিঠি পাঠান।`, 
              stats: { "প্রাপক": "রোম, পারস্য, মিসর, হাবশা", "সীলমোহর": "মুহাম্মদুর রাসুলুল্লাহ" }, lessons: ["ইসলাম একটি বিশ্বধর্ম।"], source: "সহীহ বুখারী" },

            { id: 42, year: "629", category: "family", icon: "fas fa-ring", title: "উম্মে হাবিবা (রা.)", subtitle: "আবু সুফিয়ানের কন্যা", 
              story: `<p class="drop-cap">তি</p>নি হাবশায় হিজরত করেছিলেন, কিন্তু সেখানে তাঁর স্বামী খ্রিস্টান হয়ে মারা যায়। তিনি ইসলামে অটল থাকেন। মদিনায় তখনো তাঁর পিতা আবু সুফিয়ান ইসলামের ঘোর শত্রু। নবীজি হাবশার রাজা নাজ্জাশীর মাধ্যমে তাঁকে বিয়ের প্রস্তাব পাঠান এবং নাজ্জাশী নিজে মহরানা পরিশোধ করেন।`, 
              stats: { "পিতা": "আবু সুফিয়ান", "মহরানা": "৪০০ দিনার (নাজ্জাশী কর্তৃক)", "বিবাহ": "৭ম হিজরি" }, lessons: ["দূরবর্তী সাহাবীদের খবর নেওয়া।"], source: "সিরাতে ইবনে হিশাম" },

            { id: 43, year: "629", category: "family", icon: "fas fa-ring", title: "মায়মুনা (রা.)", subtitle: "সর্বশেষ স্ত্রী", 
              story: `<p class="drop-cap">ও</p>মরাতুল কাজা পালন শেষে মক্কায় এই বিবাহ হয়। তিনি ছিলেন আব্বাস (রা.)-এর শ্যালিকা। তিনি নিজেকে নবীজির জন্য হেবা (দান) করেছিলেন।`, 
              stats: { "বিবাহ": "৭ম হিজরি", "স্থান": "সারিফ", "বৈশিষ্ট্য": "আত্মীয়তার সম্পর্ক রক্ষাকারী" }, lessons: ["আত্মীয়তার বন্ধন।"], source: "সহীহ মুসলিম" },

            { id: 44, year: "629", category: "battle", icon: "fas fa-users", title: "মূতার যুদ্ধ", subtitle: "রোমানদের সাথে লড়াই", 
              story: `<p class="drop-cap">৩</p>০০০ মুসলিম ২ লক্ষ রোমান সৈন্যের মুখোমুখি হয়। খালিদ বিন ওয়ালিদ (রা.) অসাধারণ কৌশলে বাহিনী ফিরিয়ে আনেন। এই যুদ্ধে নবীজির পালক পুত্র জায়েদ, চাচাতো ভাই জাফর এবং কবি আব্দুল্লাহ ইবনে রাওয়াহা (রা.) শহীদ হন।`, 
              stats: { "সেনাপতি": "জায়েদ, জাফর, আব্দুল্লাহ (রা.)", "স্থান": "সিরিয়া সীমান্ত" }, lessons: ["কৌশলগত পিছু হটা পরাজয় নয়।"], source: "সিরাতে ইবনে হিশাম" },

            { id: 45, year: "630", category: "battle", icon: "fas fa-flag", title: "মক্কা বিজয়", subtitle: "রক্তপাতহীন মহাবিজয়", 
              story: `<p class="drop-cap">১</p>০,০০০ সাহাবী নিয়ে নবীজি মক্কা জয় করেন। তিনি কাবার দরজায় দাঁড়িয়ে সাধারণ ক্ষমা ঘোষণা করেন: <strong>"যাও, তোমরা সবাই মুক্ত।"</strong>`, 
              stats: { "তারিখ": "২০ রমজান, ৮ম হিজরি", "মূর্তি ধ্বংস": "৩৬০টি", "ঘোষণা": "সাধারণ ক্ষমা" }, lessons: ["ক্ষমাই হলো প্রকৃত শক্তি।"], source: "সিরাতে ইবনে হিশাম" },

            { id: 46, year: "630", category: "battle", icon: "fas fa-horse-head", title: "হুনাইন যুদ্ধ", subtitle: "সংখ্যার বড়াই", 
              story: `<p class="drop-cap">ম</p>ক্কা বিজয়ের পর সংখ্যার গর্ব করায় প্রথমে বিপর্যয় আসে। পরে আল্লাহ বিজয় দেন।`, 
              stats: { "সৈন্য": "১২,০০০", "শিক্ষা": "সংখ্যা নয়, আল্লাহই মূল" }, lessons: ["অহংকার পতনের মূল।"], source: "সূরা তাওবা" },

            { id: 47, year: "630", category: "battle", icon: "fas fa-sun", title: "তাবুক অভিযান", subtitle: "কঠিনতম অভিযান", 
              story: `<p class="drop-cap">প্র</p>চণ্ড গরমে রোমানদের বিরুদ্ধে ৩০,০০০ সৈন্য নিয়ে অভিযান। কোনো যুদ্ধ ছাড়াই রোমানরা পিছু হটে।`, 
              stats: { "সৈন্য": "৩০,০০০", "ঋতু": "গ্রীষ্মকাল" }, lessons: ["কঠিন সময়েও জিহাদে অটল থাকা।"], source: "সূরা তাওবা" },

            { id: 48, year: "631", category: "state", icon: "fas fa-user-check", title: "আবু বকর (রা.)-এর হজ্জ", subtitle: "হজ্জের আমীর", 
              story: `<p class="drop-cap">৯</p>ম হিজরিতে নবীজি আবু বকর (রা.)-কে হজ্জের আমীর হিসেবে মক্কায় পাঠান। আলী (রা.)-কে পাঠানো হয় সূরা তাওবার আয়াত পড়ে শোনানোর জন্য, যেখানে মুশরিকদের সাথে সম্পর্কচ্ছেদের ঘোষণা দেওয়া হয়।`, 
              stats: { "আমীর": "আবু বকর (রা.)", "ঘোষণা": "মুশরিকরা আর হজ্জ করতে পারবে না" }, lessons: ["শিরকমুক্ত ইবাদত।"], source: "বুখারী" },

            // CHARACTER & WISDOM
            { id: 49, year: "ব্যক্তিগত", category: "character", icon: "fas fa-child", title: "শিশুদের সাথে ব্যবহার", subtitle: "মমতার সাগর", 
              story: `<p class="drop-cap">তি</p>নি শিশুদের দেখলে সালাম দিতেন। নাতি হাসান-হোসাইনকে পিঠে চড়াতেন। এক বেদুইন তা দেখে অবাক হলে তিনি বলেন, 'আল্লাহ তোমার অন্তর থেকে দয়া তুলে নিলে আমি কী করব?'`, 
              stats: { "শিক্ষা": "স্নেহ ও মমতা" }, lessons: ["শিশুদের সম্মান করা।"], source: "বুখারী" },

            { id: 50, year: "ব্যক্তিগত", category: "character", icon: "fas fa-hands-helping", title: "অমুসলিমদের সাথে আচরণ", subtitle: "মানবসেবা", 
              story: `<p class="drop-cap">এ</p>ক ইহুদি ছেলে নবীজির খেদমত করত। সে অসুস্থ হলে নবীজি তাকে দেখতে যান এবং তার ইসলাম গ্রহণের উসিলা হন।`, 
              stats: { "ঘটনা": "রোগী দেখতে যাওয়া" }, lessons: ["অমুসলিমদের প্রতিও সদাচরণ।"], source: "বুখারী" },

            { id: 51, year: "ব্যক্তিগত", category: "character", icon: "fas fa-smile-beam", title: "হাস্যরস: বৃদ্ধা ও জান্নাত", subtitle: "নবীজির রসবোধ", 
              story: `<p class="drop-cap">এ</p>ক বৃদ্ধা নবীজির কাছে জান্নাতের দোয়া চাইলে তিনি কৌতুক করে বলেন, 'বৃদ্ধারা জান্নাতে যাবে না।' মহিলাটি কাঁদতে শুরু করলে তিনি হেসে বলেন, 'সবাই যুবক হয়ে জান্নাতে যাবে।'`, 
              stats: { "ঘটনা": "বৃদ্ধার জান্নাত", "শিক্ষা": "কৌতুক হতে হবে সত্য" }, lessons: ["নবীজি ছিলেন প্রফুল্ল চিত্তের।"], source: "শামায়েলে তিরমিযী" },

            { id: 52, year: "ব্যক্তিগত", category: "character", icon: "fas fa-running", title: "দৌড় প্রতিযোগিতা", subtitle: "স্ত্রীর সাথে বিনোদন", 
              story: `<p class="drop-cap">ন</p>বীজি তাঁর স্ত্রী আয়েশা (রা.)-এর সাথে দৌড় প্রতিযোগিতা করতেন। একবার আয়েশা (রা.) জিতে গেলেন। কিছুদিন পর আয়েশা (রা.) একটু মোটা হলে নবীজি জিতে গেলেন এবং হেসে বললেন, "এটা আগেরটার শোধ।"`, 
              stats: { "সঙ্গী": "আয়েশা (রা.)", "ঘটনা": "দৌড় প্রতিযোগিতা" }, lessons: ["স্ত্রীর সাথে বিনোদন সুন্নাহ।"], source: "আবু দাউদ" },

            { id: 53, year: "ব্যক্তিগত", category: "character", icon: "fas fa-user-circle", title: "দৈহিক সৌন্দর্য", subtitle: "শামায়েলে তিরমিযী", 
              story: `<p class="drop-cap">তি</p>নি ছিলেন উজ্জ্বল গৌরবর্ণের। তাঁর মুখমণ্ডল ছিল পূর্ণিমার চাঁদের মতো দীপ্তিময়। তিনি অধিক লম্বাও ছিলেন না, আবার খাটোও ছিলেন না। তাঁর ঘাম ছিল কস্তুরীর চেয়েও সুগন্ধিযুক্ত।`, 
              stats: { "গায়ের রঙ": "উজ্জ্বল ফর্সা", "চুল": "কানের লতি পর্যন্ত", "মোহর": "দুই কাঁধের মাঝে" }, lessons: ["সর্বোত্তম আকৃতি।"], source: "শামায়েলে তিরমিযী" },

            { id: 54, year: "632", category: "madinan", icon: "fas fa-users-cog", title: "বিদায় হজ্জ", subtitle: "মানবতার সনদ", 
              story: `<p class="drop-cap">আ</p>রাফাতের ময়দানে ১ লক্ষ সাহাবীর সামনে তিনি বিদায় হজ্জের ভাষণ দেন। তিনি বলেন, "মানুষের রক্ত ও সম্পদ পবিত্র। সুদ চিরতরে হারাম। নারীদের অধিকার আদায় করতে হবে। আরবের ওপর অনারবের কোনো শ্রেষ্ঠত্ব নেই।"`, 
              stats: { "উপস্থিতি": "১ লক্ষ ২৪ হাজার", "আয়াত": "আজ আমি তোমাদের দ্বীন পূর্ণ করলাম" }, lessons: ["মানবাধিকার ও সাম্যের শ্রেষ্ঠ দলিল।"], source: "সহীহ মুসলিম" },

            { id: 55, year: "632", category: "state", icon: "fas fa-bullhorn", title: "গাদিরে খুমের ভাষণ", subtitle: "মদিনায় ফেরার পথে", 
              story: `<p class="drop-cap">বি</p>দায় হজ্জ থেকে ফেরার পথে গাদিরে খুম নামক স্থানে তিনি আলী (রা.)-এর মর্যাদা সম্পর্কে বলেন, "আমি যার মাওলা (বন্ধু/অভিভাবক), আলীও তার মাওলা।"`, 
              stats: { "স্থান": "গাদিরে খুম", "বিষয়": "আলী (রা.)-এর ফযিলত" }, lessons: ["সাহাবীদের প্রতি ভালোবাসা।"], source: "তিরমিযী" },

            { id: 56, year: "632", category: "madinan", icon: "fas fa-praying-hands", title: "ওফাত (ইন্তেকাল)", subtitle: "রফিকে আ'লার সন্ধানে", 
              story: `<p class="drop-cap">১</p>২ই রবিউল আউয়াল, সোমবার। অসুস্থ অবস্থায় তিনি আয়েশা (রা.) এর কোলে মাথা রেখে ইন্তেকাল করেন। তাঁর শেষ কথা ছিল: <strong>"আল্লাহুম্মা আর-রফিক আল-আ'লা"</strong> (হে আল্লাহ! আমি পরম বন্ধুর সান্নিধ্য চাই)।`, 
              stats: { "বয়স": "৬৩ বছর", "স্থান": "মদিনা", "বার": "সোমবার" }, lessons: ["মৃত্যু অবধারিত। রেখে যাওয়া সুন্নাহই আমাদের পাথেয়।"], source: "বুখারী" }
        ];

        const timelineFeed = document.getElementById('timeline-feed');
        const searchInput = document.getElementById('search-input');
        const filterSelect = document.getElementById('filter-select');
        const loader = document.getElementById('loader');

        function renderTimeline(data = seerahDB) {
            timelineFeed.innerHTML = '';
            
            data.forEach((item, index) => {
                const isLeft = index % 2 === 0;
                let borderColor = 'border-brand-gold';
                let iconColor = 'text-brand-gold';
                let tagText = 'সাধারণ';

                if(item.category === 'makkan') { borderColor = 'border-brand-makkan'; iconColor = 'text-brand-makkan'; tagText = 'মক্কী জীবন'; }
                else if(item.category === 'madinan') { borderColor = 'border-brand-madinan'; iconColor = 'text-brand-madinan'; tagText = 'মাদানী জীবন'; }
                else if(item.category === 'battle') { borderColor = 'border-brand-battle'; iconColor = 'text-brand-battle'; tagText = 'গাজওয়া'; }
                else if(item.category === 'family') { borderColor = 'border-brand-family'; iconColor = 'text-brand-family'; tagText = 'উম্মাহাতুল মুমিনিন'; }
                else if(item.category === 'character') { borderColor = 'border-brand-character'; iconColor = 'text-brand-character'; tagText = 'চরিত্র/শামায়েল'; }
                else if(item.category === 'state') { borderColor = 'border-brand-state'; iconColor = 'text-brand-state'; tagText = 'রাষ্ট্র'; }

                const html = `
                <div class="relative flex items-center justify-between mb-10 w-full ${isLeft ? '' : 'md:flex-row-reverse'} group ${isLeft ? 'left-card' : 'right-card'}">
                    
                    <div class="hidden md:block w-5/12 relative">
                        <!-- Connector Curve for Desktop -->
                        <div class="snake-curve"></div>
                    </div>
                    
                    <div class="absolute left-[24px] md:left-1/2 transform -translate-x-1/2 z-10">
                        <div class="w-10 h-10 md:w-12 md:h-12 rounded-full bg-paper border-4 ${borderColor} flex items-center justify-center shadow-md transition-transform group-hover:scale-110" onclick="openModal(${item.id})">
                            <i class="${item.icon} ${iconColor} text-sm md:text-lg"></i>
                        </div>
                    </div>
                    
                    <div class="w-full pl-[60px] md:pl-0 md:w-5/12 cursor-pointer z-10" onclick="openModal(${item.id})">
                        <div class="timeline-card p-5 rounded-xl shadow-sm border border-gray-100 border-l-4 ${borderColor}">
                            <div class="flex justify-between items-center mb-2">
                                <span class="bg-gray-100 text-gray-600 text-[10px] font-bold px-2 py-0.5 rounded-full border border-gray-200">${toBanglaNum(item.year)}</span>
                                <span class="text-[9px] font-bold uppercase tracking-widest text-gray-400 border border-gray-200 px-2 py-0.5 rounded">${tagText}</span>
                            </div>
                            <h3 class="text-lg font-bold font-serif text-brand-dark mb-1 group-hover:${iconColor} transition-colors">${item.title}</h3>
                            <p class="text-xs font-bold text-brand-gold uppercase tracking-widest mb-3 opacity-80">${item.subtitle}</p>
                            <div class="text-xs font-bold text-gray-400 group-hover:text-brand-base transition-colors flex items-center gap-1">বিস্তারিত <i class="fas fa-arrow-right"></i></div>
                        </div>
                    </div>
                    
                    <div class="hidden md:block w-5/12"></div>
                </div>`;
                timelineFeed.innerHTML += html;
            });
        }

        function filterTimeline() {
            const cat = filterSelect.value;
            const query = searchInput.value.toLowerCase();
            const filtered = seerahDB.filter(item => {
                const matchesCat = cat === 'all' ? true : item.category === cat;
                const matchesSearch = item.title.toLowerCase().includes(query) || item.subtitle.toLowerCase().includes(query);
                return matchesCat && matchesSearch;
            });
            renderTimeline(filtered);
        }
        searchInput.addEventListener('input', filterTimeline);

        const modalOverlay = document.getElementById('modal-overlay');
        const mTitle = document.getElementById('m-title');
        const mYearBadge = document.getElementById('m-year-badge');
        const mCatBadge = document.getElementById('m-cat-badge');
        const mIconHeader = document.getElementById('m-icon-header');
        const mSubtitle = document.getElementById('m-subtitle');
        const mStory = document.getElementById('m-story');
        const mStatsContainer = document.getElementById('m-stats-table-container');
        const mLessonList = document.getElementById('m-lesson-list');
        const mSource = document.getElementById('m-source');

        function openModal(id) {
            const data = seerahDB.find(d => d.id === id);
            mTitle.innerText = data.title;
            mYearBadge.innerText = toBanglaNum(data.year);
            mCatBadge.innerText = categoryMap[data.category] || data.category.toUpperCase();
            
            // কালার সেট করা
            let catColorClass = "text-gray-500 border-gray-200";
            if(data.category === 'makkan') catColorClass = "text-brand-makkan border-brand-makkan";
            else if(data.category === 'madinan') catColorClass = "text-brand-madinan border-brand-madinan";
            else if(data.category === 'battle') catColorClass = "text-brand-battle border-brand-battle";
            else if(data.category === 'family') catColorClass = "text-brand-family border-brand-family";
            else if(data.category === 'state') catColorClass = "text-brand-state border-brand-state";
            else if(data.category === 'character') catColorClass = "text-brand-character border-brand-character";
            
            mCatBadge.className = `text-[9px] font-bold uppercase tracking-widest px-2 py-0.5 rounded border ${catColorClass}`;

            mIconHeader.className = data.icon;
            mSubtitle.innerText = data.subtitle;
            mStory.innerHTML = data.story;
            
            let statsHtml = `<table class="info-table"><tbody>`;
            for(const [k, v] of Object.entries(data.stats)) { statsHtml += `<tr><th>${k}</th><td>${v}</td></tr>`; }
            statsHtml += `</tbody></table>`;
            mStatsContainer.innerHTML = statsHtml;

            let lessonHtml = '';
            data.lessons.forEach(l => lessonHtml += `<li class="flex gap-2 items-start text-sm"><i class="fas fa-check-circle text-brand-base mt-1 shrink-0"></i><span>${l}</span></li>`);
            mLessonList.innerHTML = lessonHtml;
            mSource.innerText = "উৎস: " + data.source;

            modalOverlay.classList.add('open');
            document.body.style.overflow = 'hidden';
            switchTab('story');
        }

        function closeModal() {
            modalOverlay.classList.remove('open');
            document.body.style.overflow = 'auto';
        }

        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById('tab-' + tab).classList.add('active');
            document.getElementById('content-' + tab).classList.add('active');
        }

        window.addEventListener('scroll', () => {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById('progress-line').style.height = scrolled + "%";
        });

        // ইনিশিয়ালাইজেশন
        window.onload = () => {
            renderTimeline();
            setTimeout(() => {
                loader.classList.add('opacity-0', 'pointer-events-none');
            }, 800); // লোডিং এনিমেশন
        };
    </script>
</body>
</html>
